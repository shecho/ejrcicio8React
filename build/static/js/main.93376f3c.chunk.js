(this.webpackJsonpejercicio8subir=this.webpackJsonpejercicio8subir||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),c=a.n(s),l=(a(16),a(2)),o=a(4),m=a(1),i=a.n(m),u=a(3),d=a(7),p=a(8),E=a(9),f=a(10);a(18);function h(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row m-4"},e.users.map((function(t,a){return r.a.createElement("div",{className:"col-md-3 m-3 px-4",key:a,id:a},r.a.createElement("div",{className:"card text-center"},r.a.createElement("p",{id:t.id,className:"d-none card-text"},t.id),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center "},r.a.createElement("h6",{className:"m-2 card-title"},t.name," ",t.lastname)),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center "},r.a.createElement("p",{className:"m-2 card-text"},t.email))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(t){return e.deleteUser(t)},className:"btn btn-danger m-2",type:"submit"},"Delete",r.a.createElement("i",{className:"m-2 fa fa-trash-o","aria-hidden":"true"})),r.a.createElement("button",{onClick:function(t){return e.editUser(t)},className:" btn btn-success m-2 ",type:"submit"},"Editar",r.a.createElement("i",{className:"m-2 fa fa-pencil"})))))}))))}function v(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"m-4 row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h1",null," Add User"),r.a.createElement("form",{onInput:e.handleInput,onSubmit:function(t){return e.addUser(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"name",type:"text",placeholder:"Nombre"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",capture:!0,name:"lastname",type:"text",placeholder:"Apellido"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"email",type:"text",placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"password",type:"password",placeholder:"Password"})),r.a.createElement("input",{className:"btn btn-success btn-block",type:"submit"})))))}function b(e){var t=e.user,a=t.name,n=t.lastname,s=t.email,c=t.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"m-4 row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h1",null," Edit User"),r.a.createElement("form",{onSubmit:e.updateUser,onInput:e.editInput},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"name",type:"text",placeholder:"Nombre",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"lastname",type:"text",placeholder:"Apellidos",value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"email",type:"email",placeholder:"Email",value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"password",type:"password",placeholder:"Contrase\xf1a",value:c})),r.a.createElement("input",{className:"btn btn-success btn-block",type:"submit",value:"Update"})))))}var N=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).getData=Object(u.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://academlo-api-users.herokuapp.com/users",t.next=3,fetch("https://academlo-api-users.herokuapp.com/users");case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.setState({users:n.data});case 8:case"end":return t.stop()}}),t)}))),e.addUser=function(t){t.preventDefault(),fetch("https://academlo-api-users.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e.state.newUser)}).then((function(t){t.json(),e.getData()}))},e.handleInput=function(t){e.setState({newUser:Object(o.a)({},e.state.newUser,Object(l.a)({},t.target.name,t.target.value))})},e.deleteUser=function(){var t=Object(u.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.parentElement.parentElement.firstElementChild.id,r="https://academlo-api-users.herokuapp.com/user/".concat(n),t.next=4,fetch(r,{method:"DELETE"});case 4:s=t.sent,console.log(s),e.getData();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateUser=function(){var t=Object(u.a)(i.a.mark((function t(a){var n,r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state.userEdited.id,r=e.state.userEdited,s="https://academlo-api-users.herokuapp.com/user/".concat(n),t.next=6,fetch(s,{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(r)});case 6:c=t.sent,e.getData(),console.log(c);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInputEdit=function(t){e.setState({userEdited:Object(o.a)({},e.state.userEdited,Object(l.a)({},t.target.name,t.target.value))}),console.log(e.state.userEdited)},e.editUser=function(){var t=Object(u.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.parentElement.parentElement.parentElement.id,console.log(n),t.next=4,e.state.users[n];case 4:r=t.sent,e.setState({userEdited:Object(o.a)({},e.state.userEdited,{},r)}),console.log(e.state.userEdited);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={users:[],newUser:{},userEdited:{}},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(v,{handleInput:this.handleInput,addUser:this.addUser}),r.a.createElement(b,{user:this.state.userEdited,editInput:this.handleInputEdit,updateUser:this.updateUser})),r.a.createElement(h,{deleteUser:this.deleteUser,users:this.state.users,editUser:this.editUser}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.93376f3c.chunk.js.map